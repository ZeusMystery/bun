function P(B,C={}){const D=[];if(B instanceof URL)throw new TypeError("Watch URLs are not supported yet");else if(Buffer.isBuffer(B))B=B.toString();else if(typeof B!=="string")throw new TypeError("Expected path to be a string or Buffer");let z=null;if(typeof C==="string")C={encoding:C};return N.watch(B,C||{},(A,S)=>{if(D.push({eventType:A,filename:S}),z){const q=z;z=null,q()}}),{async*[Symbol.asyncIterator](){let A=!1;while(!A){while(D.length){let S=D.shift();if(S.eventType==="close"){A=!0;break}if(S.eventType==="error")throw A=!0,S.filename;yield S}await new Promise((S)=>z=S)}}}}var N=Bun.fs(),M="::bunternal::",O={[M]:(B)=>{var C={[M]:function(D,z,A){var S;try{S=B.apply(N,A),A=void 0}catch(q){A=void 0,z(q);return}D(S)}}[M];return async function(...D){return await new Promise((z,A)=>{process.nextTick(C,z,A,D)})}}}[M],Q=O(N.accessSync),U=O(N.appendFileSync),V=O(N.closeSync),X=O(N.copyFileSync),d=O(N.existsSync),G=O(N.chownSync),Y=O(N.chmodSync),H=O(N.fchmodSync),Z=O(N.fchownSync),_=O(N.fstatSync),$=O(N.fsyncSync),T=O(N.ftruncateSync),W=O(N.futimesSync),k=O(N.lchmodSync),E=O(N.lchownSync),x=O(N.linkSync),F=O(N.lstatSync),R=O(N.mkdirSync),g=O(N.mkdtempSync),h=O(N.openSync),c=O(N.readSync),j=O(N.writeSync),w=O(N.readdirSync),I=O(N.readFileSync),v=O(N.writeFileSync),J=O(N.readlinkSync),b=O(N.realpathSync),u=O(N.renameSync),y=O(N.statSync),l=O(N.symlinkSync),p=O(N.truncateSync),m=O(N.unlinkSync),n=O(N.utimesSync),t=O(N.lutimesSync),o=O(N.rmSync),r=O(N.rmdirSync),a=(B,C,D)=>{return new Promise((z,A)=>{try{var S=N.writevSync(B,C,D)}catch(q){A(q);return}z({bytesWritten:S,buffers:C})})},K=(B,C,D)=>{return new Promise((z,A)=>{try{var S=N.readvSync(B,C,D)}catch(q){A(q);return}z({bytesRead:S,buffers:C})})},i={access:Q,appendFile:U,close:V,copyFile:X,exists:d,chown:G,chmod:Y,fchmod:H,fchown:Z,fstat:_,fsync:$,ftruncate:T,futimes:W,lchmod:k,lchown:E,link:x,lstat:F,mkdir:R,mkdtemp:g,open:h,read:c,write:j,readdir:w,readFile:I,writeFile:v,readlink:J,realpath:b,rename:u,stat:y,symlink:l,truncate:p,unlink:m,utimes:n,lutimes:t,rm:o,rmdir:r,watch:P,writev:a,readv:K,constants,[Symbol.for("CommonJS")]:0};export{a as writev,v as writeFile,j as write,P as watch,n as utimes,m as unlink,p as truncate,l as symlink,y as stat,r as rmdir,o as rm,u as rename,b as realpath,K as readv,J as readlink,w as readdir,I as readFile,c as read,h as open,g as mkdtemp,R as mkdir,t as lutimes,F as lstat,x as link,E as lchown,k as lchmod,W as futimes,T as ftruncate,$ as fsync,_ as fstat,Z as fchown,H as fchmod,d as exists,i as default,X as copyFile,V as close,G as chown,Y as chmod,U as appendFile,Q as access};
